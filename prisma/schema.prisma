datasource db {
  provider          = "postgresql"
  url               = env("MY_POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl         = env("MY_POSTGRES_URL_NON_POOLING") // uses a direct connection
  shadowDatabaseUrl = env("MY_POSTGRES_URL_NON_POOLING") // used for migrations
  extensions        = [pg_trgm]
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["jsonProtocol", "postgresqlExtensions"]
}

model NFLPlayer {
  firstName   String
  lastName    String
  yearStart   String
  yearEnd     String
  profilePic  String?
  position    String?
  pff_page    String?
  fbdb_page   String?
  Player_Team Player_Team[]
  college     String?
  id          Int           @unique @default(autoincrement())
  Answers Answers[]

  @@id([firstName, lastName, yearStart, yearEnd])
}

model NFLPlayer_Team {
  teamName        Team
  player          NFLPlayer @relation(fields: [playerFirstName, playerLastName, playerYearStart, playerYearEnd], references: [firstName, lastName, yearStart, yearEnd])
  playerFirstName String
  playerLastName  String
  playerYearStart String
  playerYearEnd   String

  @@id([teamName, playerFirstName, playerLastName, playerYearStart, playerYearEnd])
}

model Grid {
  day        DateTime @unique @db.Date
  a_team     Team
  b_team     Team
  c_team     Team
  one_team   Team
  two_team   Team
  three_team Team
}

model NFLAnswers {
  team1    Team
  team2    Team
  player   Player @relation(fields: [playerId], references: [id])
  playerId Int
  count    Int

  @@id([team1, team2, playerId])
}

enum Criteria {
    MIA
  HOU
  BAL
  JAX
  CAR
  TB
  SEA
  CIN
  NO
  ATL
  MIN
  BUF
  TEN
  LV
  NE
  NYJ
  DEN
  LAC
  KC
  DAL
  IND
  CLE
  SF
  LA
  PIT
  PHI
  WAS
  DET
  NYG
  GB
  CHI
  ARI
  Over_Games_150
  Round_1_Pick
  Undrafted
  Over_6_Foot
  Over_300_Pounds 
  Under_180
  RB
  DB
  LB
  WR
  DT
  LS
  OT
  C
  QB
  DE
  P
  K
  OT
  OG
  TE
  AP_All_Pro
  Over_1000_Rushing_Season
  Over_1000_Recieving_Season
  Over_10_TD_Season
  
}

enum Team {
  MIA
  HOU
  BAL
  JAX
  CAR
  TB
  SEA
  CIN
  NO
  ATL
  MIN
  BUF
  TEN
  LV
  NE
  NYJ
  DEN
  LAC
  KC
  DAL
  IND
  CLE
  SF
  LA
  PIT
  PHI
  WAS
  DET
  NYG
  GB
  CHI
  ARI
}
