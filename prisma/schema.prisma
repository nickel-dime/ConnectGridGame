datasource db {
  provider          = "postgresql"
  url               = env("MY_POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl         = env("MY_POSTGRES_URL_NON_POOLING") // uses a direct connection
  shadowDatabaseUrl = env("MY_POSTGRES_URL_NON_POOLING") // used for migrations
  extensions        = [pg_trgm]
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["jsonProtocol", "postgresqlExtensions"]
}

model NFLPlayer {
  id          Int              @unique @default(autoincrement())
  firstName   String
  lastName    String
  yearStart   String
  yearEnd     String
  profilePic  String?
  position    String?
  fbdb_page   String?
  Player_Team NFLPlayer_Team[]
  college     String?
  weight      Int?
  Answers     NFLAnswers[]

  @@id([firstName, lastName, yearStart, yearEnd])
}

model NFLPlayer_Team {
  teamName        NFLTeam
  player          NFLPlayer @relation(fields: [playerFirstName, playerLastName, playerYearStart, playerYearEnd], references: [firstName, lastName, yearStart, yearEnd])
  playerFirstName String
  playerLastName  String
  playerYearStart String
  playerYearEnd   String

  @@id([teamName, playerFirstName, playerLastName, playerYearStart, playerYearEnd])
}

model NFLAnswers {
  hint_one String
  hint_two String
  player   NFLPlayer @relation(fields: [playerId], references: [id])
  playerId Int
  count    Int

  @@id([hint_one, hint_two, playerId])
}

model NFLGrid {
  day        DateTime @unique @db.Date
  a_hint     String
  b_hint     String
  c_hint     String
  one_hint   String
  two_hint   String
  three_hint String
}

enum NFLCriteria {
  MIA
  HOU
  BAL
  JAX
  CAR
  TB
  SEA
  CIN
  NO
  ATL
  MIN
  BUF
  TEN
  LV
  NE
  NYJ
  DEN
  LAC
  KC
  DAL
  IND
  CLE
  SF
  LA
  PIT
  PHI
  WAS
  DET
  NYG
  GB
  CHI
  ARI
  Over_Games_150
  Round_1_Pick
  Undrafted
  Over_6_Foot
  Over_300_Pounds
  Under_180
  RB
  DB
  LB
  WR
  DT
  LS
  C
  QB
  DE
  P
  K
  OT
  OG
  TE
  AP_All_Pro
  Over_1000_Rushing_Season
  Over_1000_Recieving_Season
  Over_10_TD_Season
}

enum NFLTeam {
  MIA
  HOU
  BAL
  JAX
  CAR
  TB
  SEA
  CIN
  NO
  ATL
  MIN
  BUF
  TEN
  LV
  NE
  NYJ
  DEN
  LAC
  KC
  DAL
  IND
  CLE
  SF
  LA
  PIT
  PHI
  WAS
  DET
  NYG
  GB
  CHI
  ARI
}

model NBAPlayer {
  id             Int              @id
  firstName      String
  lastName       String
  isActive       Boolean
  profilePic     String
  yearStart      String
  yearEnd        String
  position       String
  NBAAnswers     NBAAnswers[]
  NBAPlayer_Team NBAPlayer_Team[]
}

model NBAPlayer_Team {
  teamName NBATeam
  player   NBAPlayer @relation(fields: [playerId], references: [id])
  playerId Int

  @@id([teamName, playerId])
}

model NBAGrid {
  day        DateTime @unique @db.Date
  a_hint     String
  b_hint     String
  c_hint     String
  one_hint   String
  two_hint   String
  three_hint String
}

model NBAAnswers {
  hint_one String
  hint_two String
  player   NBAPlayer @relation(fields: [playerId], references: [id])
  playerId Int
  count    Int

  @@id([hint_one, hint_two, playerId])
}

enum NBATeam {
  ATL
  BOS
  BKN
  CHA
  CHI
  CLE
  DAL
  DEN
  DET
  GSW
  HOU
  IND
  LAC
  LAL
  MEM
  MIA
  MIL
  MIN
  NOP
  NYK
  OKC
  ORL
  PHL
  PHX
  POR
  SAC
  SAS
  TOR
  UTA
  WAS
}
